name: Run Monitor

on:
schedule:
- cron: "*/5 * * * *"
workflow_dispatch:

jobs:
run-script:
runs-on: ubuntu-latest
steps:
  - name: Checkout repo
    uses: actions/checkout@v4

  - name: Setup Python
    uses: actions/setup-python@v5
    with:
      python-version: "3.11"

  - name: Install dependencies
    run: |
      pip install -r requirements.txt
      playwright install --with-deps

  - name: Run script
    run: python arms.py
    env:
      PORTAL_USER: ${{ secrets.PORTAL_USER }}
      PORTAL_PASS: ${{ secrets.PORTAL_PASS }}
      BOT_TOKEN: ${{ secrets.BOT_TOKEN }}
      CHAT_ID: ${{ secrets.CHAT_ID }}
